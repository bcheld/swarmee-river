# Swarmee River - Environment Variables (Example)
#
# Copy to `.env` and fill in values as needed.
# Do NOT commit real secrets.
#
# Notes:
# - Swarmee runs on the Strands Agents SDK, so many `STRANDS_*` vars are inherited.
# - `.env` is loaded automatically by the CLI at startup.

###############################################################################
# Core: prompts + KB
###############################################################################

# (Preferred) System prompt override (takes precedence over STRANDS_SYSTEM_PROMPT and .prompt)
# SWARMEE_SYSTEM_PROMPT="You are a helpful assistant."

# (Optional) Default Bedrock Knowledge Base ID (preferred name)
# SWARMEE_KNOWLEDGE_BASE_ID="ABCDEFGHIJ"

# (Inherited/back-compat) Default Bedrock Knowledge Base ID
# STRANDS_KNOWLEDGE_BASE_ID="ABCDEFGHIJ"

# (Inherited/back-compat) System prompt override
# STRANDS_SYSTEM_PROMPT="You are a helpful assistant."

###############################################################################
# Context management
###############################################################################

# Context manager: summarize | sliding | none
# SWARMEE_CONTEXT_MANAGER="summarize"

# Summarizing manager controls (approximation-based; not exact tokenization)
# SWARMEE_CONTEXT_BUDGET_TOKENS=20000
# SWARMEE_SUMMARY_RATIO=0.3
# SWARMEE_PRESERVE_RECENT_MESSAGES=10
# SWARMEE_TOKEN_CHARS_PER_TOKEN=4
# SWARMEE_MAX_SUMMARY_PASSES=4
# SWARMEE_SUMMARIZE_CONTEXT=true

# Sliding window manager controls (used when SWARMEE_CONTEXT_MANAGER=sliding)
# SWARMEE_WINDOW_SIZE=20
# SWARMEE_CONTEXT_PER_TURN=1
# SWARMEE_TRUNCATE_RESULTS=true

###############################################################################
# Tool output limiting (prompt bloat guardrail)
###############################################################################

# SWARMEE_LIMIT_TOOL_RESULTS=true
# SWARMEE_TOOL_RESULT_MAX_CHARS=8000

###############################################################################
# Local state directory (artifacts/logs/sessions/project map)
###############################################################################

# Base directory for Swarmee runtime state.
# Default: `.swarmee/` under the current working directory.
# Useful in constrained environments (e.g., SageMaker, containers) to redirect writes to `/tmp`.
#
# SWARMEE_STATE_DIR=".swarmee"
# SWARMEE_STATE_DIR="/tmp/swarmee"

###############################################################################
# Interrupts
###############################################################################

# Enable Esc key interrupt (enabled | disabled)
# SWARMEE_ESC_INTERRUPT="enabled"

###############################################################################
# Jupyter notebook integration
###############################################################################

# When using `%load_ext swarmee_river.jupyter`, Swarmee will try to capture full notebook context.
# If it can't locate the active `.ipynb`, it falls back to executed code cell history.
#
# You can force the notebook path explicitly:
# SWARMEE_NOTEBOOK_PATH="/absolute/path/to/notebook.ipynb"
#
# Limit how much notebook context is included per prompt (chars).
# SWARMEE_NOTEBOOK_CONTEXT_CHARS=120000
#
# Disable notebook context injection entirely (truthy to disable).
# SWARMEE_NOTEBOOK_NO_CONTEXT=false
#
# Choose model provider for the notebook extension (bedrock|ollama|openai). Defaults to bedrock.
# SWARMEE_JUPYTER_MODEL_PROVIDER="openai"

###############################################################################
# Tool policy (enterprise guardrails)
###############################################################################

# Allowlist tool names (comma-separated). If set, only these tools may run.
# SWARMEE_ENABLE_TOOLS="file_read,file_write,editor,http_request,python_repl,shell"

# Blocklist tool names (comma-separated).
# SWARMEE_DISABLE_TOOLS="shell,swarm"

# Gate swarms explicitly
# SWARMEE_SWARM_ENABLED=true

# Declarative permission rules live in `.swarmee/settings.json` under `safety.permission_rules`.
# Example snippet:
# {
#   "safety": {
#     "permission_rules": [
#       {"tool": "shell", "action": "deny", "remember": true, "when": {"command_regex": "^rm\\s+-rf"}},
#       {"tool": "http_request", "action": "allow", "remember": true, "when": {"host_glob": "*.internal.example.com", "method": "GET"}},
#       {"tool": "http_request", "action": "ask", "remember": true, "when": {"host_glob": "*.internal.example.com", "method": "POST"}}
#     ]
#   }
# }

###############################################################################
# SOP policy + discovery
###############################################################################

# Additional SOP directories (OS path separator-separated). Local SOPs are `*.sop.md`.
# macOS/Linux example:
# SWARMEE_SOP_PATHS="/path/to/sops:/another/path"
#
# Windows example:
# SWARMEE_SOP_PATHS="C:\\sops;D:\\more-sops"

# SOP allowlist/blocklist (comma-separated SOP names)
# SWARMEE_ENABLE_SOPS="my-sop,incident-response"
# SWARMEE_DISABLE_SOPS="dangerous-sop"

###############################################################################
# Logging + S3 upload (observability)
###############################################################################

# SWARMEE_LOG_EVENTS=true
# SWARMEE_LOG_DIR=".swarmee/logs"
# SWARMEE_SESSION_ID="optional-fixed-session-id"
# SWARMEE_LOG_MAX_FIELD_CHARS=8000
# Redact common secrets in logs (recommended)
# SWARMEE_LOG_REDACT=true

# Optional: upload logs to S3
# SWARMEE_LOG_S3_BUCKET="my-observability-bucket"
# SWARMEE_LOG_S3_PREFIX="swarmee/logs"

###############################################################################
# Model providers (packaged: bedrock, ollama, openai)
###############################################################################

# Select the default provider (bedrock|openai|ollama).
# Precedence (highest -> lowest):
# - CLI `--model-provider`
# - SWARMEE_MODEL_PROVIDER
# - `.swarmee/settings.json` -> models.provider
# - (auto) openai if OPENAI_API_KEY is set, else bedrock
# SWARMEE_MODEL_PROVIDER="openai"

# ---- Bedrock (inherited Strands vars) ----
# STRANDS_MODEL_ID="us.anthropic.claude-sonnet-4-20250514-v1:0"
# STRANDS_MAX_TOKENS=32768
# STRANDS_BUDGET_TOKENS=2048
# STRANDS_THINKING_TYPE="enabled"
# STRANDS_ANTHROPIC_BETA="interleaved-thinking-2025-05-14"
# STRANDS_CACHE_TOOLS="default"

# ---- Ollama (Swarmee vars) ----
# SWARMEE_OLLAMA_HOST="http://localhost:11434"
# SWARMEE_OLLAMA_MODEL_ID="llama3.1"
# (Inherited fallback used by SWARMEE_OLLAMA_MODEL_ID)
# OLLAMA_MODEL="llama3.1"

# ---- OpenAI (Swarmee vars + inherited OpenAI client vars) ----
# SWARMEE_OPENAI_MODEL_ID="gpt-5-nano"
# SWARMEE_MAX_TOKENS=1024
# Optional: request higher reasoning effort in the deep tier (provider/model dependent).
# SWARMEE_OPENAI_REASONING_EFFORT="high"

# OPENAI_API_KEY="..."
# Recommended (matches OpenAI Python SDK default):
# OPENAI_BASE_URL="https://api.openai.com/v1"

###############################################################################
# Frontier harnessing (plan/execute + preflight)
###############################################################################

# Auto-approve plans and tool-consent prompts (useful for automation).
# SWARMEE_AUTO_APPROVE=false

# Run a project preflight automatically at interactive startup.
# SWARMEE_PREFLIGHT=enabled

# Preflight level: summary | summary+tree | summary+files
# SWARMEE_PREFLIGHT_LEVEL=summary

# Print preflight context snapshot text at startup (disabled by default to reduce noise).
# SWARMEE_PREFLIGHT_PRINT=enabled

# Limit preflight text included in the prompt/artifacts (chars).
# SWARMEE_PREFLIGHT_MAX_CHARS=8000

# Build and cache a lightweight project index to `<state_dir>/project_map.json` (default `.swarmee/project_map.json`).
# SWARMEE_PROJECT_MAP=enabled

###############################################################################
# Prompt caching (provider-dependent)
###############################################################################

# Prevent mid-session tool schema churn by disabling directory hot-loading.
# This helps keep the tool schema portion of the prompt stable for providers that do prefix caching.
# SWARMEE_FREEZE_TOOLS=true

# Use the stable system prompt for summarization/compaction where supported.
# This reduces cache breaks during context reduction at the cost of a longer summarization prompt.
# SWARMEE_CACHE_SAFE_SUMMARY=false

# Optional: enable a simple $ cost estimate in the TUI status bar by supplying rates (USD per 1M tokens).
# These are provider/model specific; leave unset to hide the cost segment.
# SWARMEE_PRICE_INPUT_PER_1M="3.00"
# SWARMEE_PRICE_OUTPUT_PER_1M="15.00"
# Optional: rate for cached input tokens (defaults to input rate).
# SWARMEE_PRICE_CACHED_INPUT_PER_1M="0.30"
#
# Provider-specific overrides (recommended when you use multiple providers across environments):
# SWARMEE_PRICE_OPENAI_INPUT_PER_1M="3.00"
# SWARMEE_PRICE_OPENAI_OUTPUT_PER_1M="15.00"
# SWARMEE_PRICE_BEDROCK_INPUT_PER_1M="3.00"
# SWARMEE_PRICE_BEDROCK_OUTPUT_PER_1M="15.00"
#
# You can also set code defaults in `/src/swarmee_river/pricing.py` so the TUI shows
# cost estimates without any env vars.

###############################################################################
# Model tiers (in-session switching)
###############################################################################

# Force the active tier (fast|balanced|deep|long).
# SWARMEE_MODEL_TIER="balanced"

# Enable/disable auto tier escalation.
# SWARMEE_TIER_AUTO=false

# Override model IDs per tier (provider-specific).
# These override `.swarmee/settings.json` and built-in defaults.
#
# Bedrock (model_id strings depend on your Bedrock region/account):
# SWARMEE_BEDROCK_FAST_MODEL_ID="us.anthropic.claude-sonnet-4-20250514-v1:0"
# SWARMEE_BEDROCK_BALANCED_MODEL_ID="us.anthropic.claude-sonnet-4-20250514-v1:0"
# SWARMEE_BEDROCK_DEEP_MODEL_ID="us.anthropic.claude-sonnet-4-20250514-v1:0"
# SWARMEE_BEDROCK_LONG_MODEL_ID="us.anthropic.claude-sonnet-4-20250514-v1:0"
#
# OpenAI:
# SWARMEE_OPENAI_FAST_MODEL_ID="gpt-5-nano"
# SWARMEE_OPENAI_BALANCED_MODEL_ID="gpt-5-mini"
# SWARMEE_OPENAI_DEEP_MODEL_ID="gpt-5"
# SWARMEE_OPENAI_LONG_MODEL_ID="gpt-5"
#
# Ollama:
# SWARMEE_OLLAMA_FAST_MODEL_ID="llama3.1"
# SWARMEE_OLLAMA_BALANCED_MODEL_ID="llama3.1"
# SWARMEE_OLLAMA_DEEP_MODEL_ID="llama3.1"
# SWARMEE_OLLAMA_LONG_MODEL_ID="llama3.1"

###############################################################################
# Artifacts (local + optional S3 upload)
###############################################################################

# Upload artifacts via the `artifact` tool.
# SWARMEE_ARTIFACT_S3_BUCKET="my-bucket"
# SWARMEE_ARTIFACT_S3_PREFIX="swarmee/artifacts"

###############################################################################
# AWS (used by tools/store_in_kb.py and any Strands AWS tools)
###############################################################################

# AWS_REGION="us-east-2"

###############################################################################
# Strands runtime/tooling (inherited)
###############################################################################

# STRANDS_TOOL_CONSOLE_MODE="enabled"
# STRANDS_TOOLS_DIR="/path/to/tools"

# BYPASS_TOOL_CONSENT="false"
